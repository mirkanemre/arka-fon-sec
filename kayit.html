<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OtoFonFX | Hediye Kayƒ±t</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600;900&family=Inter:wght@400;600;800&display=swap');
        * { box-sizing: border-box; }
        :root { --bg: #000; --accent: #3b82f6; --gold: #f59e0b; --border: #1c1c1e; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; padding: 15px; color: #fff; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .nav-header { width: 100%; max-width: 450px; display: flex; align-items: center; padding: 10px 5px; margin-bottom: 10px; }
        .btn-back { text-decoration: none; color: var(--accent); font-size: 0.75rem; font-weight: 800; font-family: 'Orbitron'; letter-spacing: 1px; cursor: pointer; }
        .promo-banner { width: 100%; max-width: 450px; background: linear-gradient(45deg, #1e3a8a, #3b82f6); border-radius: 18px; padding: 12px; text-align: center; margin-bottom: 20px; box-shadow: 0 0 20px rgba(59, 130, 246, 0.2); border: 1px solid rgba(255,255,255,0.1); }
        .promo-banner h2 { font-family: 'Orbitron'; font-size: 0.75rem; margin: 0; letter-spacing: 1px; }
        .promo-banner p { font-size: 0.6rem; margin: 4px 0 0; opacity: 0.8; font-weight: 600; }
        .form-card { width: 100%; max-width: 450px; background: #050505; border: 1px solid var(--border); border-radius: 28px; padding: 25px; display: flex; flex-direction: column; gap: 15px; }
        .input-group { display: flex; flex-direction: column; gap: 6px; }
        .input-group label { font-size: 0.6rem; color: #8e8e93; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; padding-left: 5px; }
        input, select { background: #000; border: 1px solid var(--border); border-radius: 12px; padding: 12px; color: #fff; font-family: 'Inter'; outline: none; font-size: 0.85rem; -webkit-appearance: none; }
        input:focus, select:focus { border-color: var(--accent); }
        .btn-submit { background: linear-gradient(45deg, var(--gold), #d97706); color: #000; border: none; padding: 18px; border-radius: 15px; font-family: 'Orbitron'; font-weight: 900; font-size: 0.8rem; text-transform: uppercase; cursor: pointer; margin-top: 10px; box-shadow: 0 5px 20px rgba(245, 158, 11, 0.2); }
        .footer-text { font-size: 0.55rem; color: #444; text-align: center; margin-top: 20px; line-height: 1.4; }
    </style>
</head>
<body>

    <div class="nav-header">
        <div class="btn-back" onclick="window.history.back()">‚ùÆ GERƒ∞</div>
    </div>

    <div class="promo-banner">
        <h2>üéÅ KAYIT OL, 10 KREDƒ∞ KAZAN!</h2>
        <p>Bilgilerini doldur, ilk 10 √ßekimin bizden olsun.</p>
    </div>

    <div class="form-card">
        <div class="input-group"><label>Galeri Adƒ± *</label><input type="text" id="galeri-adi" placeholder="D√ºkkan Adƒ±"></div>
        <div class="input-group"><label>Yetkili Adƒ± Soyadƒ± *</label><input type="text" id="yetkili-adi" placeholder="Ad Soyad"></div>
        <div class="input-group"><label>Telefon Numarasƒ± *</label><input type="tel" id="tel-no" placeholder="05XX XXX XX XX"></div>
        
        <div class="input-group">
            <label>≈ûehir *</label>
            <select id="sehir-select">
                <option value="">L√ºtfen ≈ûehir Se√ßin</option>
            </select>
        </div>

        <button class="btn-submit" id="submit-btn" onclick="handleRegister()">
            10 Kredimi Tanƒ±mla ve Kaydol
        </button>
    </div>

    <div class="footer-text">¬© 2026 OTOFONFX TECHNOLOGIES</div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();

        // 81 ƒ∞l Listesi
        const sehirler = ["Adana", "Adƒ±yaman", "Afyonkarahisar", "Aƒürƒ±", "Amasya", "Ankara", "Antalya", "Artvin", "Aydƒ±n", "Balƒ±kesir", "Bilecik", "Bing√∂l", "Bitlis", "Bolu", "Burdur", "Bursa", "√áanakkale", "√áankƒ±rƒ±", "√áorum", "Denizli", "Diyarbakƒ±r", "Edirne", "Elazƒ±ƒü", "Erzincan", "Erzurum", "Eski≈üehir", "Gaziantep", "Giresun", "G√ºm√º≈ühane", "Hakkari", "Hatay", "Isparta", "Mersin", "ƒ∞stanbul", "ƒ∞zmir", "Kars", "Kastamonu", "Kayseri", "Kƒ±rklareli", "Kƒ±r≈üehir", "Kocaeli", "Konya", "K√ºtahya", "Malatya", "Manisa", "Kahramanmara≈ü", "Mardin", "Muƒüla", "Mu≈ü", "Nev≈üehir", "Niƒüde", "Ordu", "Rize", "Sakarya", "Samsun", "Siirt", "Sinop", "Sivas", "Tekirdaƒü", "Tokat", "Trabzon", "Tunceli", "≈ûanlƒ±urfa", "U≈üak", "Van", "Yozgat", "Zonguldak", "Aksaray", "Bayburt", "Karaman", "Kƒ±rƒ±kkale", "Batman", "≈ûƒ±rnak", "Bartƒ±n", "Ardahan", "Iƒüdƒ±r", "Yalova", "Karab√ºk", "Kilis", "Osmaniye", "D√ºzce"];
        
        const select = document.getElementById('sehir-select');
        sehirler.forEach(s => {
            let opt = document.createElement('option');
            opt.value = s; opt.innerHTML = s; select.appendChild(opt);
        });

        function handleRegister() {
            const btn = document.getElementById('submit-btn');
            const chat_id = String(tg.initDataUnsafe?.user?.id || "1017604800");
            const user_name = encodeURIComponent(tg.initDataUnsafe?.user?.username || "Bilinmiyor");
            const galeri_adi = encodeURIComponent(document.getElementById('galeri-adi').value);
            const yetkili = encodeURIComponent(document.getElementById('yetkili-adi').value);
            const telefon = encodeURIComponent(document.getElementById('tel-no').value);
            const sehir = encodeURIComponent(document.getElementById('sehir-select').value);

            if (!galeri_adi || !yetkili || !telefon || !sehir) {
                tg.showAlert("L√ºtfen t√ºm alanlarƒ± doldurunuz!");
                return;
            }

            btn.innerText = "Sƒ∞STEME Gƒ∞Rƒ∞Lƒ∞YOR...";
            btn.disabled = true;

            // --- ARKA KAPI Y√ñNTEMƒ∞ (GET) ---
            const webhookUrl = `https://asininventory.com/webhook/kayit-verisi-al?chat_id=${chat_id}&user_name=${user_name}&galeri_adi=${galeri_adi}&yetkili=${yetkili}&telefon=${telefon}&sehir=${sehir}`;

            const img = new Image();
            img.onload = () => { finishRegistration(); };
            img.onerror = () => { setTimeout(() => { finishRegistration(); }, 1200); };
            img.src = webhookUrl;
        }

        function finishRegistration() {
            tg.HapticFeedback.notificationOccurred('success');
            tg.showPopup({
                title: 'Ho≈ü Geldin! üéÅ',
                message: 'Kaydƒ±nƒ±z ve 10 √ºcretsiz krediniz ba≈üarƒ±yla tanƒ±mlandƒ±.',
                buttons: [{type: 'ok', text: 'DEVAM ET'}]
            }, () => { window.location.href = 'arka_fon.html'; });
        }
    </script>
</body>
</html>
