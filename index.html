<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>AI StÃ¼dyo</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0f172a; color: white; font-family: sans-serif; text-align: center; padding: 20px; }
        .card { background: #1e293b; padding: 10px; border-radius: 10px; margin-bottom: 20px; }
        img { width: 100%; max-height: 300px; object-fit: contain; border-radius: 8px; }
        button { background: #007AFF; color: white; border: none; padding: 15px 30px; border-radius: 10px; font-size: 16px; cursor: pointer; width: 100%; }
        /* Basit Slider CSS */
        .slider-nav { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .nav-btn { background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h3>Bir Fon SeÃ§</h3>
    
    <div class="card">
        <img id="preview-img" src="">
        <p id="img-name" style="margin-top:10px; color:#94a3b8;"></p>
    </div>

    <div class="slider-nav">
        <div class="nav-btn" onclick="change(-1)">â® Ã–nceki</div>
        <div class="nav-btn" onclick="change(1)">Sonraki â¯</div>
    </div>

    <button onclick="saveSelection()">âœ… SEÃ‡ VE GÃ–NDER</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); // KRÄ°TÄ°K: Bot'a hazÄ±rÄ±m mesajÄ± gÃ¶nderir
        tg.expand();

        const images = [
            "icmekan_0001", "icmekan_0002", "icmekan_0003", 
            "dismekan_0001", "dismekan_0002"
        ];
        const baseUrl = "https://raw.githubusercontent.com/mirkanemre/arka-fon-sec/main/img/ic/"; // KlasÃ¶r yapÄ±na gÃ¶re dÃ¼zenle
        let idx = 0;

        function update() {
            // Basitlik iÃ§in sadece iÃ§ mekan yolunu koydum, sen kendi array mantÄ±ÄŸÄ±nÄ± buraya koyabilirsin
            document.getElementById('preview-img').src = baseUrl + images[idx] + "_c.jpeg";
            document.getElementById('img-name').innerText = images[idx];
        }

        function change(step) {
            idx = (idx + step + images.length) % images.length;
            update();
            tg.HapticFeedback.impactOccurred('light');
        }

        function saveSelection() {
            const selectedId = images[idx] + "_a.jpeg";
            
            // ğŸ”¥ NATIVE TELEGRAM GÃ–NDERÄ°MÄ°
            tg.sendData(JSON.stringify({
                secili_fon: selectedId
            }));
            
            // Veri gittikten sonra pencereyi kapat
            tg.close();
        }

        update();
    </script>
</body>
</html>
